(()=>{"use strict";var t={705:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var c={};if(r)for(var s=0;s<this.length;s++){var f=this[s][0];null!=f&&(c[f]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);r&&c[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},738:t=>{t.exports=function(t){return t[1]}},811:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(738),o=n.n(r),i=n(705),c=n.n(i)()(o());c.push([t.id,"* {\n    background-color: #111111;\n    color: #ffffff;\n}\n\ncanvas {\n    border: 1px solid #444444;\n    width: 100%;\n}",""]);const s=c},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},c=[],s=0;s<t.length;s++){var f=t[s],a=r.base?f[0]+r.base:f[0],u=i[a]||0,l="".concat(a," ").concat(u);i[a]=u+1;var h=n(l),y={css:f[1],media:f[2],sourceMap:f[3],supports:f[4],layer:f[5]};if(-1!==h)e[h].references++,e[h].updater(y);else{var p=o(y,r);r.byIndex=s,e.splice(s,0,{identifier:l,updater:p,references:1})}c.push(l)}return c}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var c=0;c<i.length;c++){var s=n(i[c]);e[s].references--}for(var f=r(t,o),a=0;a<i.length;a++){var u=n(i[a]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=f}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{function t(t,e,n,r,o,i,c){n.fillStyle="#ffffffaa",n.fillRect(t+r+o*c,e,100,60),n.fillRect(t+20+r+o*c,e+20,100,60)}function e(e,n,r,o,i){var c=[e,n,r,o,i];e.fillStyle="#7f77fe",e.fillRect(n+r*i,0,r+r*i,o),t.apply(void 0,[200,100].concat(c))}function r(t,e,n,r,o){t.fillStyle="#000033",t.fillRect(e+n*o,0,n+n*o,r),t.fillStyle="#333388dd",t.fillRect(200+e+n*o,100,100,60),t.fillRect(230+e+n*o,130,100,60)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=n,this.windowWidth=n.canvas.attributes.width.textContent,this.windowHeight=n.canvas.attributes.height.textContent,this.bgSelect=o,this.background=[r,e,r]}var n,i;return n=t,(i=[{key:"update",value:function(t){this.xScrollOffset=.5*t%this.windowWidth,this.render()}},{key:"render",value:function(){for(var t=0;t<2;t++)this.background[this.bgSelect](this.ctx,this.xScrollOffset,this.windowWidth,this.windowHeight,t)}}])&&o(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();const c=[function(t){return{player:[20,t-21],background:2,bushes:[[750,t-21]],floors:[],floorsWithBottom:[[-100,20,6e3],[-100,40,100]],bricks:[[750,150],[850,150]],breakableBricks:[[500,150],[700,150],[800,150],[900,150],[800,350]],enemies:[[750,t-21]]}},function(t){return{player:[20,21],background:1,bushes:[[120,20],[1e3,20]],floors:[],floorsWithBottom:[[-100,0,6e3],[-100,40,100]],bricks:[[750,150],[850,150]],breakableBricks:[[500,150],[700,150],[800,150],[900,150],[800,350]],enemies:[[750,21]]}}];var s=n(379),f=n.n(s),a=n(795),u=n.n(a),l=n(569),h=n.n(l),y=n(565),p=n.n(y),b=n(216),d=n.n(b),v=n(589),m=n.n(v),g=n(811),w={};function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}w.styleTagTransform=m(),w.setAttributes=p(),w.insert=h().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=d(),f()(g.Z,w),g.Z&&g.Z.locals&&g.Z.locals;var x=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.windowWidth=e.canvas.attributes.width.textContent,this.windowHeight=e.canvas.attributes.height.textContent,this.xScrollOffset=0,this.height=100,this.width=50,this.x=n+this.xScrollOffset,this.y=r,this.color="#ff0000",this.id=o,this.isObstacle=!0}var e,n;return e=t,(n=[{key:"update",value:function(t){this.xScrollOffset=t,this.render()}},{key:"render",value:function(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+this.xScrollOffset,this.y-this.height,this.width,this.height)}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function k(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return k(this,t)});function c(t,e,n,r,o){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(s=i.call(this,t,e,n,r)).height=1,s.width=o,s.color="#ffff00",s.bgHeight=20,s.bgColor="#003333",s}return e=c,(n=[{key:"render",value:function(){return this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(this.x+this.xScrollOffset,this.y,this.width,this.bgHeight),this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+this.xScrollOffset,this.y-this.height,this.width,this.height),0}}])&&j(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(x);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function T(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(n);if(r){var o=V(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return T(this,t)});function i(t,e,n,r,c){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(s=o.call(this,t,e,n,r)).height=20,s.width=c,s.color="#503c04",s}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(x);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function C(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function J(t,e){if(e&&("object"===L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=M(r);if(o){var n=M(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return J(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,t,e,n,r)).movingLeft=!1,o.movingRight=!1,o.shortJumping=!1,o.longJumping=!1,o.standing=!0,o.crouching=!1,o.xLeftVelocity=0,o.xRightVelocity=0,o.yUpVelocity=0,o.yDownVelocity=0,o.obstacles=[],o.objectStandingOn="none",o.isKillable=!0,o.isDead=!1,o}return e=c,(n=[{key:"update",value:function(t){this.xScrollOffset=t,this.isDead?(this.y+=10,this.color="#555555",this.movingRight=!1,this.movingLeft=!1):this.checkObstacleSurfaces()?0==this.yUpVelocity&&(this.yDownVelocity=0,this.standing=!0):(this.standing=!1,this.moveDown()),this.movingLeft&&this.moveLeft(),this.movingRight&&this.moveRight(),this.crouching?this.crouch():this.standUp(),this.render()}},{key:"crouch",value:function(){this.height=50}},{key:"standUp",value:function(){this.height=100}},{key:"moveLeft",value:function(){var t,e,n=C(this.obstacles);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.x+r.width+r.xScrollOffset<this.x+this.xScrollOffset||r.y-r.height>this.y||this.y-this.height>r.y||this.x+this.xScrollOffset<r.x+r.xScrollOffset||r.height<=1||r.id==this.id||!r.isObstacle||(t=r)}}catch(t){n.e(t)}finally{n.f()}t?this.isPlayer?(this.x=t.x+t.width,this.xLeftVelocity=0,t.isEnemy&&(this.isDead=!0)):(this.movingLeft=!1,this.movingRight=!0,t.isPlayer&&(t.isDead=!0)):this.x-=this.xLeftVelocity}},{key:"moveRight",value:function(){var t,e,n=C(this.obstacles);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.x-this.width+r.xScrollOffset-1>this.x+this.xScrollOffset||r.y-r.height>this.y||this.y-this.height>r.y||this.x+this.xScrollOffset>r.x+r.xScrollOffset||r.height<=1||r.id==this.id||!r.isObstacle||(t=r)}}catch(t){n.e(t)}finally{n.f()}t?this.isPlayer?(this.x=t.x-this.width-1,this.xRightVelocity=0,t.isEnemy&&(this.isDead=!0)):(this.movingRight=!1,this.movingLeft=!0,t.isPlayer&&(t.isDead=!0)):this.x+=this.xRightVelocity}},{key:"bounce",value:function(){this.yUpVelocity=26,this.standing=!1}},{key:"checkObstacleSurfaces",value:function(){var t,e=[],n=C(this.obstacles);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.y>=r.y-r.height-1&&this.x+this.width+this.xScrollOffset>=r.x+r.xScrollOffset&&this.x+this.xScrollOffset<r.x+r.width+r.xScrollOffset&&this.y<r.y&&r.isObstacle;e.push(o),o&&r.isKillable&&(r.isEnemy||this.isEnemy&&r.isPlayer)&&(r.isDead=!0,this.bounce())}}catch(t){n.e(t)}finally{n.f()}return e.some((function(t){return t}))}},{key:"checkObstacleCeilings",value:function(){var t,e=[],n=C(this.obstacles);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.y-this.height==r.y&&this.x+this.width+this.xScrollOffset>=r.x+r.xScrollOffset&&this.x+this.xScrollOffset<r.x+r.width+r.xScrollOffset&&r.height>1&&r.isObstacle;if(e.push(o),o&&r.isKillable&&r.isBreakableBrick){r.isDead=!0;break}}}catch(t){n.e(t)}finally{n.f()}return e.some((function(t){return t}))}},{key:"moveDown",value:function(){this.y>=this.windowHeight&&(this.isDead=!0);for(var t=0;t<this.yDownVelocity&&(this.y++,!this.checkObstacleSurfaces());t++);this.yDownVelocity<20&&this.yDownVelocity++}}])&&U(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(x);function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function $(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=F(r);if(o){var n=F(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return $(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,t,e,n,r)).color="#a41f19",o.isPlayer=!0,o.offset=0,o.height=100,o.width=46,o}return e=c,(n=[{key:"determineView",value:function(){return this.x>400&&(this.offset=-(this.x-400)),this.offset}},{key:"update",value:function(t){this.xScrollOffset=t,this.isDead&&(this.y+=10,this.color="#555555",this.movingRight=!1,this.movingLeft=!1);for(var e=0;e<this.yUpVelocity;e++)this.y--,this.checkObstacleCeilings()&&(this.yUpVelocity=0,this.longJumping=!1,this.shortJumping=!1);return this.yUpVelocity>0&&this.yUpVelocity--,this.shortJumping&&this.standing&&!this.isDead?this.shortJump():this.longJumping&&this.shortJumping&&this.yUpVelocity>0?this.fullJump():this.checkObstacleSurfaces()?0==this.yUpVelocity&&(this.yDownVelocity=0,this.standing=!0):(this.standing=!1,this.moveDown()),this.movingLeft&&(!this.crouching||this.yUpVelocity>0)?(this.moveLeft(),this.xLeftVelocity<20&&!this.isDead&&(this.xLeftVelocity+=1)):this.xLeftVelocity>0?(this.moveLeft(),this.xLeftVelocity--):this.xLeftVelocity=0,this.movingRight&&(!this.crouching||this.yUpVelocity>0)?(this.moveRight(),this.xRightVelocity<20&&!this.isDead&&(this.xRightVelocity+=1)):this.xRightVelocity>0?(this.moveRight(),this.xRightVelocity--):this.xRightVelocity=0,this.crouching?this.crouch():this.standUp(),this.render()}},{key:"crouch",value:function(){this.height=50}},{key:"standUp",value:function(){this.height=100}},{key:"shortJump",value:function(){this.yUpVelocity=20,this.standing=!1}},{key:"fullJump",value:function(){this.shortJumping=!1,this.standing=!1,this.yUpVelocity+=10,this.longJumping=!1}},{key:"displayStats",value:function(){this.ctx.fillStyle=this.color,this.ctx.font="16px Arial",this.ctx.fillText("(x) ".concat(this.x," - ").concat(this.x+this.width," (y) ").concat(this.y," - ").concat(this.y-this.height,"   ").concat(this.xScrollOffset),10,30);var t,e=0,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return K(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(this.obstacles);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.ctx.fillStyle=r.color,this.ctx.fillText("(x) ".concat(r.x," - ").concat(r.x+r.width," (y) ").concat(r.y," - ").concat(r.y-r.height,"   ").concat(r.xScrollOffset),10,60+e),e+=16}}catch(t){n.e(t)}finally{n.f()}}},{key:"render",value:function(){return this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+this.xScrollOffset,this.y-this.height,this.width,this.height),this.determineView()}}])&&N(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(W);function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function X(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Y(r);if(o){var n=Y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return X(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,t,e,n,r)).isActivated=!1,o.isEnemy=!0,o.color="#863c04",o.movingRight=!1,o.movingLeft=!0,o.xLeftVelocity=1,o.xRightVelocity=1,o.height=46,o.width=46,o}return e=c,(n=[{key:"update",value:function(t){this.xScrollOffset=t,-t>this.x-this.windowWidth-400&&-t<this.x+400?this.isActivated=!0:this.isActivated=!1,this.isActivated&&(this.isDead?(this.y+=10,this.color="#555555",this.movingRight=!1,this.movingLeft=!1):this.checkObstacleSurfaces()?0==this.yUpVelocity&&(this.yDownVelocity=0,this.standing=!0):(this.standing=!1,this.moveDown()),this.movingLeft&&this.moveLeft(),this.movingRight&&this.moveRight(),this.render())}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(W);function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}function ot(t,e){if(e&&("object"===et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=it(r);if(o){var n=it(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ot(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,t,e,n,r)).height=50,o.width=50,o.color="#888800",o.isKillable=!1,o.isDead=!1,o}return e=c,(n=[{key:"update",value:function(t){this.xScrollOffset=t,this.isDead&&(this.y-=40,this.color="#555555"),this.render()}},{key:"render",value:function(){return this.ctx.fillStyle="#111111",this.ctx.fillRect(this.x+this.xScrollOffset,this.y-this.height,this.width,this.height),this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+this.xScrollOffset+2,this.y-this.height+2,this.width-4,this.height-4),0}}])&&nt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(x);function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ft(t,e){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ft(t,e)}function at(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ut(t){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(t)}var lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ft(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ut(n);if(r){var o=ut(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return at(this,t)});function i(t,e,n,r){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,t,e,n,r)).isBreakableBrick=!0,c.color="#863c04",c.isKillable=!0,c.isDead=!1,c}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(ct);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(t,e){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pt(t,e)}function bt(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dt(t){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dt(r);if(o){var n=dt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bt(this,t)});function c(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=i.call(this,t,e,n,r)).height=80,o.width=200,o.color="#159d06",o.isKillable=!1,o.isDead=!1,o.isObstacle=!1,o}return e=c,(n=[{key:"render",value:function(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x+this.xScrollOffset+this.width/4,this.y-this.height,this.width/2,this.height/2),this.ctx.fillRect(this.x+this.xScrollOffset,this.y-this.height/2,this.width,this.height/2)}}])&&yt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(x);function mt(t){return function(t){if(Array.isArray(t))return Ot(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function wt(t,e){if(t){if("string"==typeof t)return Ot(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(t,e):void 0}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xt=480;window.onload=function(){var t,e={canvas:document.createElement("canvas"),start:function(){this.canvas.width=1e3,this.canvas.height=xt,this.context=this.canvas.getContext("2d"),document.body.insertBefore(this.canvas,document.body.childNodes[0]),this.interval=setInterval(h,20),this.garbageCollectionInterval=setInterval(w,5e3)},clear:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}};e.start(),document.addEventListener("keydown",(function(t){"ArrowLeft"!=t.key||t.repeat||(n.movingLeft=!0),"ArrowRight"!=t.key||t.repeat||(n.movingRight=!0),"ArrowDown"!=t.key||t.repeat||(n.crouching=!0)," "!=t.key||t.repeat||(s=!0,n.shortJumping=!0)})),document.addEventListener("keyup",(function(t){"ArrowLeft"==t.key&&(n.movingLeft=!1),"ArrowRight"==t.key&&(n.movingRight=!1),"ArrowDown"==t.key&&(n.crouching=!1)," "==t.key&&(s=!1,f=0,n.shortJumping=!1,n.longJumping=!1)}));var n,r=[],o=[],s=!1,f=0,a=0,u=0,l=c[1](xt);function h(){e.clear(),t.update(u);var i,c=gt(r);try{for(c.s();!(i=c.n()).done;)i.value.update(u)}catch(t){c.e(t)}finally{c.f()}var a,l=gt(o);try{for(l.s();!(a=l.n()).done;){var h=a.value;h.update(u),h.obstacles=[].concat(mt(r),mt(o),[n])}}catch(t){l.e(t)}finally{l.f()}s&&f++,5==f&&(n.longJumping=!0),u=n.update(u),n.obstacles=[].concat(mt(r),mt(o))}function y(t,n,o){var i=new _(e.context,t,xt-n,a,o);r.push(i)}function p(t,n,o){var i=new A(e.context,t,xt-n,a,o);r.push(i)}function b(t,r){n=new q(e.context,t,xt-r,a)}function d(t,n){var r=new tt(e.context,t,xt-n,a);o.push(r)}function v(t,n){var o=new lt(e.context,t,xt-n,a);r.push(o)}function m(t,n){var o=new ct(e.context,t,xt-n,a);r.push(o)}function g(t,n){var o=new vt(e.context,t,xt-n,a);r.push(o)}function w(){o=o.filter((function(t){return!t.isDead})),r=r.filter((function(t){return!t.isDead}))}Object.keys(l).forEach((function(n){switch(n){case"background":T=l.background,t=new i(e.context,T);break;case"player":b.apply(void 0,mt(l.player));break;case"floors":var r,o=gt(l.floors);try{for(o.s();!(r=o.n()).done;){var c=r.value;y.apply(void 0,mt(c))}}catch(t){o.e(t)}finally{o.f()}break;case"floorsWithBottom":var s,f=gt(l.floorsWithBottom);try{for(f.s();!(s=f.n()).done;){var u=s.value;p.apply(void 0,mt(u))}}catch(t){f.e(t)}finally{f.f()}break;case"breakableBricks":var h,w=gt(l.breakableBricks);try{for(w.s();!(h=w.n()).done;){var O=h.value;v.apply(void 0,mt(O))}}catch(t){w.e(t)}finally{w.f()}break;case"bricks":var x,S=gt(l.bricks);try{for(S.s();!(x=S.n()).done;){var j=x.value;m.apply(void 0,mt(j))}}catch(t){S.e(t)}finally{S.f()}break;case"bushes":var R,k=gt(l.bushes);try{for(k.s();!(R=k.n()).done;){var P=R.value;g.apply(void 0,mt(P))}}catch(t){k.e(t)}finally{k.f()}break;case"enemies":var _,E=gt(l.enemies);try{for(E.s();!(_=E.n()).done;){var D=_.value;d.apply(void 0,mt(D))}}catch(t){E.e(t)}finally{E.f()}}var T;a++}))}})()})();